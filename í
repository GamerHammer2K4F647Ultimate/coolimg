#include <iostream>
#define STB_IMAGE_IMPLEMENTATION
#include <stb_image.h>
#include "log.h"
#include <SDL2/SDL.h>
#include <SDL2/SDL_image.h>

// check argv[i] if it contains a file extension
int GetWhichargvIsFile(int argc, char *argv[])
{
	for(int i = 0; i < argc; i++) {
		if(strstr(argv[i], ".") == nullptr) return i;
	}
}

int main(int argc, char *argv[])
{
	int file = 0;
	if(argc == 1) 
	{
		logerr(stdout, "no arguments given");
		loginf(stdout, "use --help for help");
	}
	else if(argc == 2) {
		file = GetWhichargvIsFile(argc, argv);
	}
	else if(argc > 2) {
		// then we can start to worry
	}
	
	const char* filename = argv[file];

	
	if(!SDL_Init(SDL_INIT_VIDEO | SDL_INIT_EVENTS)) {
		logerr(stdout, SDL_GetError());
	}
	if(!IMG_Init(IMG_INIT_JPG | IMG_INIT_PNG | IMG_INIT_WEBP)) {
//		logerr(stdout, SDL_GetError());
	}

	printf("%s\n", filename);
	
	IMG_Quit();
	SDL_Quit();

}
